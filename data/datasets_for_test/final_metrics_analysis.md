
# Финальные метрики для анализа розничных датасетов

Анализ проводится по трём датасетам:

1. **customer_shopping_data.csv** — покупки в торговых центрах Стамбула.
2. **Online Retail UK Dataset.csv** — онлайн-ритейл в Великобритании.
3. **supermarket_sales.csv** — транзакции супермаркетов с финансовыми деталями.

---

## 1. Финансовые метрики

Для оценки доходности, расходов и рентабельности.

| Метрика                  | customer_shopping_data | Online Retail UK | supermarket_sales |
|--------------------------|------------------------|------------------|-------------------|
| Общий доход              | [v] `quantity * price` | [v] `Quantity * UnitPrice` | [v] `Total` |
| Средний чек              | [v]                      | [v]               | [v] |
| Кол-во транзакций        | [v]                      | [v]               | [v] |
| Средняя маржа            | —                      | —                | [v] `Gross margin %` |
| Валовая прибыль          | —                      | —                | [v] `Gross income` |

---

## 2. Поведение клиентов

Анализ покупательской активности и предпочтений.

| Метрика                                  | customer_shopping_data | Online Retail UK | supermarket_sales |
|------------------------------------------|------------------------|------------------|-------------------|
| Частота покупок по клиенту              | [v] по `customer_id`    | [v] по `CustomerID` | [v] если ID есть |
| Повторные клиенты / новые               | [v]                      | [v]               | [v] (если клиенты идентифицируемы) |
| RFM-анализ (Recency, Frequency, Monetary)| [v]                      | [v]               | [v] |
| Средний возраст покупателя               | [v]                      | —                | — |
| Популярные категории продуктов           | [v]                      | [v]               | [v] |
| Предпочитаемый метод оплаты              | [v]                      | [v]               | [v] |

---

## 3. Пространственно-временные тренды

| Метрика                                  | customer_shopping_data | Online Retail UK | supermarket_sales |
|------------------------------------------|------------------------|------------------|-------------------|
| Продажи по месяцам/сезонам               | [v] по `invoice_date`   | [v] по `InvoiceDate`| [v] по `Date` |
| Топ торговых центров / филиалов          | [v] `shopping_mall`     | —                | [v] `Branch / City` |
| Пиковые часы покупок                     | —                      | —                | [v] `Time` |

---

## 4. ML-friendly метрики

| Метрика / фича                           | customer_shopping_data | Online Retail UK | supermarket_sales |
|------------------------------------------|------------------------|------------------|-------------------|
| Кластеры покупателей по поведению        | [v]                      | [v]               | [v] |
| Сегментация по возрасту/половому признаку| [v]                      | —                | [v] |
| Предсказание суммы чека / способа оплаты | [v]                      | [v]               | [v] |

---

## Выбор финальной метрики

Зависит от **цели анализа**:

- **Бизнес-цель**: максимизация выручки → финальная метрика: _доход по клиенту / категории / магазину_.
- **Анализ поведения**: сегментация → финальная метрика: _число кластеров, средние показатели в каждом_.
- **Прогнозирование**: спрос, поведение → метрики модели: _MAE, RMSE_.
- **Маркетинг**: удержание клиентов → _Retention Rate, CLV (Lifetime Value)_.

---
